{% extends "layout.html" %}

{% macro liste(dict, commentaire="", crop=needs_crop) %}
    {% for item in dict %}
        {% if item in crop %}
            {% set img = deck_name(item)|lower %}
            {% set img =  "img/split-crop/" + img + ".jpg" %}
        {% else %}
            {% set img = "" %}
        {% endif %}
        <div class="col-sm-4">
            {{ deck.card(item, img, commentaire) }}
        </div>
    {% endfor %}
{% endmacro %}

{% set archetype = request.args.get('l') or "" %}

{% block banner %}
<div class="banner_container col-12">
    <img src="{{ url_for('static', filename='img/banner.jpg') }}" alt="Banni√®re" class="opacity-75" width="100%">
    <div class="centered"><h1 class="fs-1">Liste des decks</h1></div>
</div>
{% endblock %}

{% block article %}
<article class="col-8 ms-auto me-auto my-4">
    {% block ogdesc %}
    Liste des decks jou√©s lors des soir√©es sur
    {{ external("https://www.twitch.tv/leschroniquesducommander", "<i class='fa-brands fa-twitch'></i> Twitch", _class="text-reset")}}.
    Une analyse et les parties jou√©es sont disponibles sur chaque page de deck.
    {% endblock %}
</article>

{% if (archetype == "") or (archetype == "agro") %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks dont le macrotype est üó°Ô∏è <em>Agro</em></h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    <div class="col-12">
        <strong>Agro</strong> repr√©sente la partie des decks dont le principal
        objectif est d'amener l'adversaire √† z√©ro point de vie le plus
        rapidement possible en jouant des cr√©atures ou des sorts de d√©g√¢ts
        directs.
    </div>
    {{ liste(decks_agro) }}
</div>
</article>
{% endif %}
{% if archetype == "" %}
{{ separateur() }}
{% endif %}

{% if (archetype == "") or (archetype == "tempo") %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks dont le macrotype est ‚åö <em>Tempo</em></h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    <div class="col-12">
        Les decks <strong>Tempo</strong> se reconnaissent √† leur strat√©gie
        consistant √† poser rapidement une ou plusieurs menaces puis √† les
        prot√©ger suffisamment longtemps, le plus souvent √† l'aide de
        contresorts, pour gagner.
    </div>
    {{ liste(decks_tempo) }}
</div>
</article>
{% endif %}
{% if archetype == "" %}
{{ separateur() }}
{% endif %}

{% if (archetype == "") or (archetype == "controle") %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks dont le macrotype est ‚õìÔ∏è <em>Contr√¥le</em></h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    <div class="col-12">
        L'objectif des decks <strong>Contr√¥le</strong> est de ralentir le
        d√©roulement de la partie afin d'installer une guerre d'attrition bas√©e
        essentiellement sur du <em>Card Advantage</em>.
    </div>
    {{ liste(decks_controle) }}
</div>
</article>
{% endif %}
{% if archetype == "" %}
{{ separateur() }}
{% endif %}

{% if (archetype == "") or (archetype == "combo") %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks dont le macrotype est ‚ú® <em>Combo</em></h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    <div class="col-12">
        Les decks <strong>Combo</strong> sont bas√©s sur une forte interaction
        entre au moins deux cartes (une <em>combinaison</em>) qui permet de
        gagner la partie instantan√©ment ou qui m√®ne √† un tr√®s fort avantage
        quasi-synonyme de victoire.
    </div>
    {{ liste(decks_combo) }}
</div>
</article>
{% endif %}
{% if archetype == "" %}
{{ separateur() }}
{% endif %}

{% if (archetype == "") or (archetype == "midrange") %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks dont le macrotype est ü¶è <em>Midrange</em></h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    <div class="col-12">
        Certains decks m√©langent plusieurs strat√©gies, ce sont les decks
        <strong>Midrange</strong> qui se servent de sorts polyvalents pour
        naviguer dans la partie et alterner entre la posture d'agresseur et
        d'agress√© avec la possibilit√© de clore la partie avec une combo ou une
        synergie forte.
    </div>
    {{ liste(decks_midrange) }}
</div>
</article>
{% endif %}
{% if archetype == "" %}
{{ separateur() }}
{% endif %}

{% if archetype == "" %}
<div class="col-12 bg-header py-4 mt-1 mb-2">
    <div class="col-8 ms-auto me-auto">
        <h2>Decks jou√©s dont les g√©n√©raux sont devenus ill√©gaux</h2>
    </div>
</div>
<article class="col-8 ms-auto me-auto my-4">
<div class="row py-3 d-flex flex-wrap justify-content-around">
    {{ liste(decks_ban) }}
</div>
</article>
{% endif %}
{% endblock %}
